<template>
  <div class="about">
    <div class="svg-wrapper" ref="box">
      <svg height="60" width="320">
        <text x="80" y="40" class="text"  font-size="30" fill="#fff">Hello SVG</text>
        <rect class="rect" height="60" width="320" stroke="#fff" />
      </svg>
    </div>
    <div class="test">
      <svg width="2000" height="2000" xmlns="http://www.w3.org/2000/svg">
        <rect ref="rect" x="20" y="20" width="20" height="20" fill="orange"></rect>
        <circle ref="circle" cx="10" cy="20" r="10" fill="orange" />
        <path ref="pathLine" d="M 10 35 l 15 -30" stroke="red" stroke-width="3" fill="none"/>
         <!-- 猫 -->
        <path ref="cat" d="M 356.26 462.39 s 177.03 1.66 245.84 9.43 c 0 0 62.15 7.77 89.9 3.33 c 0 0 37.58 -18.84 58.82 -26.08 c 10.32 -3.52 17.98 -10.02 29.41 -32.19 c 3.42 -6.64 8.88 -13.32 25.53 -15.54 c 0 0 3.88 23.31 0 35.52 c 0 0 58.83 44.4 44.95 73.25 c 0 0 -9.85 16.28 -19.42 16.65 c -9.43 0.36 -33.85 -3.33 -37.74 0 c 0 0 -38.17 23.09 -42.18 56.61 c -2.27 19.02 -7.95 62.93 1.66 76.58 c 21.37 30.36 118.76 103.78 89.9 118.2 c 0 0 -8.88 4.99 -23.86 -6.66 c 0 0 -41.07 -44.4 -68.26 -54.39 c 0 0 -62.71 -36.07 -73.81 -54.94 c 0 0 -45.51 9.99 -36.07 105.44 c 0 0 8.26 14.74 14.98 19.42 c 4.74 3.3 18.59 21.18 -9.43 21.09 c 0 0 -33.3 3.88 -38.29 -39.96 c 0 0 -3.99 -90.46 -3.66 -118.76 l -161.72 -0.55 l -46.62 53.28 s -14.8 30.48 14.43 53.83 c 2.62 2.1 7.34 7.33 10.54 8.32 c 8.46 2.62 33.3 -2.22 28.86 20.53 c 0 0 -5.51 17.77 -38.85 6.1 c -21.87 -7.65 -44.4 -26.08 -68.26 -62.71 c 0 0 -11.1 -14.98 0 -36.63 c 0 0 11.1 -43.84 -7.21 -41.07 c 0 0 -36.07 38.85 -82.13 38.29 c 0 0 -49.95 -0.55 -51.06 78.25 c 0 0 22.75 23.86 -9.43 24.97 c 0 0 -24.97 2.22 -21.64 -33.85 c 0 0 3.33 -33.85 17.76 -81.02 c 0 0 3.88 -18.31 22.75 -29.97 c 0 0 32.74 -16.01 39.4 -42.41 c 0 0 8.88 -65.81 40.51 -101.32 c 0 0 7.21 -25.53 -8.88 -59.93 c 0 0 -31.08 -54.94 -36.63 -118.2 c 0 0 -1.66 -32.74 -45.51 -82.69 c 0 0 -19.15 -33.85 11.65 -25.53 c 0 0 68.26 37.46 79.08 109.88 c 0.04 0.02 23.63 115.18 64.69 135.43 Z" fill-opacity="0"/>
        <!-- 狗子 -->
        <path ref="dog" d="M345.711616 469.227l-16.837632 70.654c74.320896-1.946 106.039296-19.359 218.017792-108.401 111.990784-89.029 98.112512-241.945 98.112512-241.945 34.69312-8.709 56.495104-33.879 56.495104-33.879-86.228992-88.063-133.791744 0-133.791744 0l-19.821568 0c-54.509568-29.995-152.619008-13.548-152.619008-13.548-14.86848-86.131-111.665152-17.414-111.665152-17.414 3.309568 29.69 42.957824 24.515 42.962944 24.515 0.013312 0.022 0.034816 0.048 0.048128 0.07-5.976064 77.29-32.164864 114.866-57.283584 133.093-28.628992-2.867-48.479232-5.737-48.479232-5.737-13.213696-45.49-42.615808-39.684-42.615808-39.684-47.565824 3.869-49.549312 128.722 0 186.791C227.782656 481.809 345.711616 469.227 345.711616 469.227zM445.309952 248.08c0.735232-15.481 7.862272-22.595 16.843776-25.447 0.982016 0.581 1.947648 1.154 2.876416 1.716 11.459584 6.939 10.838016 34.543 10.838016 34.543-1.748992 7.785-8.511488 13.662-18.762752 18.026C449.52576 272.741 444.548096 264.179 445.309952 248.08zM349.677568 235.985c13.874176-8.226 26.264576-7.26 26.264576 28.063 0 12.1-9.653248 19.43-22.344704 23.838-1.514496-0.035-3.028992-0.074-4.544512-0.118C343.319552 271.478 338.968576 242.34 349.677568 235.985zM316.6464 487.299l-67.38432-5.169c0 0-23.785472 33.556-25.116672 54.203-1.318912 20.635-11.886592 72.257 42.28608 54.196C320.60416 572.455 316.6464 487.299 316.6464 487.299zM592.812032 413.742c0 0-73.996288 99.359-210.098176 143.238 0 0-62.1056 141.939-76.63616 180.658-14.539776 38.707-39.643136 103.236-13.212672 125.169 26.420224 21.938 101.655552-98.072 128.790528-167.757l15.39584 10.33c0 0-59.61728 101.933-50.371584 140.648 9.245696 38.716 46.532608 74.253 96.448512-56.772 21.1456-55.485 21.1456-55.485 21.1456-55.485s9.2416 68.381 73.991168 100.638c0 0 26.433536-134.187 130.817024-98.052 0 0-107.031552-0.004-101.738496 105.804 0 0-89.851904 16.845-89.851904 39.388 0 22.55 5.27872 51.308 265.601024 17.389 79.280128-10.319 40.950784-149.674 13.206528-193.551C768.545792 661.503 612.630528 500.203 592.812032 413.742zM904.648704 596.98c-29.079552 30.975-113.63328 69.683-113.63328 69.683 26.806272 10.535 34.354176 65.81 34.354176 65.81 13.81376 3.146 22.460416 0 22.460416 0C929.76128 695.05 904.648704 596.98 904.648704 596.98z" fill-opacity="0"/>
        <g fill="none" stroke="#000000" stroke-width="1" >
          <path ref="jin" d="M88.43,81.14a6,6,0,0,1-.35,1.7,1.77,1.77,0,0,1-1.25.9,11.38,11.38,0,0,1-3,.3c-1.36,0-3.28,0-5.75-.1-1.4-.07-2.55-.15-3.45-.25a11.92,11.92,0,0,1-2.4-.5,7.45,7.45,0,0,1-2.05-1.1,20.74,20.74,0,0,1-2.2-2q-2.59-2.61-4.65-4.9c-1.36-1.54-2.7-3.15-4-4.85s-2.65-3.59-4.05-5.65-3-4.54-4.8-7.4A13.29,13.29,0,0,0,47,53.94a28.48,28.48,0,0,0-4.75-2.75,20.75,20.75,0,0,0-4.9-1.6,9,9,0,0,0-3.9-.05q-1.29,2-2.4,3.65c-.73,1.1-1.67,2.51-2.8,4.25a8.52,8.52,0,0,0,1.55.55l1.9.45q1,.2,1.8.3a3.48,3.48,0,0,0,1.15,0q1.5-.3,2.4-.45a6.53,6.53,0,0,1,1.6-.1,8.28,8.28,0,0,1,1.35.2c.44.1,1,.25,1.65.45a14,14,0,0,1,5.25,2.9,7.13,7.13,0,0,1,1.95,4.9,2.05,2.05,0,0,1-1,1.9,4.33,4.33,0,0,1-3.2.5,16.88,16.88,0,0,0-7.05.9q-4.35,1.29-10.65,3.8-3.7,1.4-4.45,1.2c-.5-.14.09-.84,1.75-2.1,1.07-.8,2-1.52,2.8-2.15s1.5-1.24,2.1-1.8l1.65-1.55c.5-.47,1-1,1.55-1.5a23.19,23.19,0,0,0-2-3.9,15.42,15.42,0,0,0-2.9-3.4q-2,3.6-3.55,6.25c-1,1.76-2,3.35-3,4.75a34.92,34.92,0,0,1-3,3.8,43.57,43.57,0,0,1-3.55,3.45C13,78,11.46,79.2,9.73,80.54S6,83.4,3.63,85.14a3.86,3.86,0,0,1-2.75,1.1c-.7-.14-1-.77-.85-1.9a9.39,9.39,0,0,1,1.35-4.25c.7-1,1.39-1.39,2.05-1,.14.06.77-.44,1.9-1.5s2.45-2.45,3.95-4.15,3-3.57,4.6-5.6a51.54,51.54,0,0,0,3.95-5.85q1.8-3.11,3.75-6.3t4.25-6.75q2.3-3.55,5.05-7.4c1.83-2.57,3.89-5.35,6.15-8.35a2.93,2.93,0,0,0,.5-1.5c0-.47-.4-1.1-1.2-1.9-.47-.47-.47-.84,0-1.1s1.53-.24,3.2.1a9,9,0,0,1,4.55,2.2,4.88,4.88,0,0,1,1.65,3.6,4.3,4.3,0,0,1-.45,2.1,6.45,6.45,0,0,1-1.85,1.8,22.38,22.38,0,0,0-5,4.7,25.26,25.26,0,0,1,8,2.9,35.58,35.58,0,0,1,8.75,7.1q5.81,6,10.2,9.9a61.11,61.11,0,0,0,8.3,6.3q5.5,3.3,8.55,5.15a40.07,40.07,0,0,1,4.45,3,5,5,0,0,1,1.65,1.9A4.09,4.09,0,0,1,88.43,81.14Zm-71.5,3.2c.34-1.87.78-2.92,1.35-3.15s.92,0,1,.85a1.34,1.34,0,0,0,.7.85,3.61,3.61,0,0,0,2.1.15A43.12,43.12,0,0,0,27.58,82c2-.5,3.8-1,5.5-1.6s3.13-1.09,4.3-1.55a10.39,10.39,0,0,0,1.95-.9c1.2-1.2,2.13-2.09,2.8-2.65a3.71,3.71,0,0,1,2.5-.85,9.2,9.2,0,0,1,3.1.65,14.58,14.58,0,0,1,3.5,1.85,7.76,7.76,0,0,1,3,3.35,2.36,2.36,0,0,1-.3,2.75,4.83,4.83,0,0,0-1.1,1.65q-.6,1.25-1.2,2.7c-.4,1-.77,1.88-1.1,2.75s-.57,1.46-.7,1.8c-.4,1.4-.91,3-1.55,4.65s-1.32,3.36-2.05,5a45,45,0,0,1-2.35,4.55,10.84,10.84,0,0,1-2.55,3.1c-1.06.8-1.93,1-2.6.65S37.5,108.24,37,106a15.86,15.86,0,0,1-.55-3.4,3.34,3.34,0,0,1,1.15-1.9,10.93,10.93,0,0,0,2.2-3.25,33.08,33.08,0,0,0,1.9-4.8A43.06,43.06,0,0,0,43,87.79a14.14,14.14,0,0,0,.35-3.55,39.18,39.18,0,0,1-6,2.75q-3.39,1.24-6.5,2.15t-5.45,1.35a11.85,11.85,0,0,1-2.85.35,12,12,0,0,1-3.4-1,4.81,4.81,0,0,1-1.75-1.5,3.86,3.86,0,0,1-.6-1.85A9.54,9.54,0,0,1,16.93,84.34Z"/>
          <!-- <path ref="tian" d="M186.63,106.44c.47.73.64,1.28.5,1.65s-.67.71-1.6,1a20.29,20.29,0,0,1-5.15,1,57.12,57.12,0,0,1-7.85-.2,17.79,17.79,0,0,1-4.85-1.15,22.08,22.08,0,0,1-5.15-3,45.53,45.53,0,0,1-5.7-5.3,88.32,88.32,0,0,1-6.4-7.95,48,48,0,0,0-3.6-4.4,17.28,17.28,0,0,0-3.4-2.85,19.05,19.05,0,0,0-3.9-1.9,50.51,50.51,0,0,0-4.9-1.45,53,53,0,0,0-.95,5.6q-.35,3-.45,5.8a10.79,10.79,0,0,1-1.8,5.7,13.74,13.74,0,0,1-5.4,4.5,26.14,26.14,0,0,1-10,3.15,16.93,16.93,0,0,1-7.25-1c-1-.4-1.47-.89-1.4-1.45s.7-.89,1.9-1a16.73,16.73,0,0,0,6.55-2.15,24.23,24.23,0,0,0,6.85-5.65,22,22,0,0,0,3-5.25,41.94,41.94,0,0,0,2.1-7.55,14.56,14.56,0,0,1-4.5,1.1,20.24,20.24,0,0,1-4.5-.1,11.75,11.75,0,0,1-3.6-1,3.13,3.13,0,0,1-1.8-1.85q-.9-3.51.2-5.5c.54-.94,1.08-1.37,1.65-1.3s.75.43.55,1.1a.37.37,0,0,0,.3.5,5.11,5.11,0,0,0,2-.45c1-.37,2.52-1,4.45-1.9s4.57-2.22,7.9-4a19.37,19.37,0,0,0,.65-3,20.06,20.06,0,0,0,.25-3c-1.87,1.46-3.15,2-3.85,1.6s-.71-1.07,0-2c.53-.74,1.2-1.6,2-2.6s1.64-2,2.5-3c-.33-1.34-.36-2.12-.1-2.35s.9-.09,1.9.45q.41-.51.75-.9c.23-.27.48-.54.75-.8a6.61,6.61,0,0,1-2.2-.8,17.69,17.69,0,0,1-2.6-1.75,24.91,24.91,0,0,1-2.5-2.35,14.9,14.9,0,0,1-1.9-2.5c-1.26-2.4-.8-3.5,1.4-3.3a11.9,11.9,0,0,0,4-.4,24.92,24.92,0,0,0,5.35-2q5.8-2.8,6-4.2c0-.27.25-.49.75-.65a5.54,5.54,0,0,1,2-.2,13.77,13.77,0,0,1,2.85.45,19.63,19.63,0,0,1,3.4,1.2A9.06,9.06,0,0,1,155,39.49a5.14,5.14,0,0,1,1.25,2.5,3.13,3.13,0,0,1-.45,2.25,3.47,3.47,0,0,1-2.05,1.4,20.76,20.76,0,0,0-2.6,1.65q-2.1,1.44-4.8,3.5t-5.4,4.2c-1.8,1.43-3.26,2.65-4.4,3.65a16.1,16.1,0,0,1,1.9,3,10.42,10.42,0,0,1,1,3c.87-.4,2-.94,3.5-1.6s3-1.39,4.55-2.15,3.05-1.52,4.45-2.25,2.5-1.34,3.3-1.8a5.62,5.62,0,0,1,4.25-.2,12.86,12.86,0,0,1,5.25,3c1,.86,1.38,1.71,1.15,2.55s-1.25,1.51-3,2.05a54.57,54.57,0,0,0-5.4,2q-3.3,1.35-6.75,3t-6.6,3.3a56.69,56.69,0,0,0-5,2.85,33.81,33.81,0,0,1,4.25,2.45q2.35,1.55,4.5,3.2c1.44,1.1,2.75,2.16,4,3.2a28.28,28.28,0,0,1,2.6,2.45,19.4,19.4,0,0,0,2.45,2.4q1.56,1.29,3.3,2.55c1.17.83,2.34,1.58,3.5,2.25a18.14,18.14,0,0,0,2.95,1.4q5.51,1.89,9,3.35a50.61,50.61,0,0,1,5.7,2.7,14.45,14.45,0,0,1,3.35,2.45A12.81,12.81,0,0,1,186.63,106.44Z"/> -->
          <path ref="tian" d="M5.244 5.864H6.084V10.64H5.244V5.864ZM8.22 2.492H9V9.068H8.22V2.492ZM3.54 1.616H7.908V2.384H3.54V1.616ZM3.516 7.292H7.74V8.084H3.516V7.292ZM3.252 4.88C4.308 4.82 5.832 4.712 7.38 4.592L7.392 5.336C5.928 5.468 4.452 5.588 3.336 5.696L3.252 4.88ZM3.156 10.568C4.392 10.412 6.24 10.112 8.016 9.824L8.064 10.58C6.36 10.892 4.608 11.192 3.3 11.408L3.156 10.568ZM6.18 3.452L6.828 3.224C7.356 4.028 7.86 5.096 8.04 5.78L7.344 6.056C7.176 5.372 6.684 4.268 6.18 3.452ZM4.932 1.904L5.844 2.12C5.496 3.152 5.028 4.46 4.644 5.252L3.96 5.048C4.32 4.22 4.728 2.852 4.932 1.904ZM10.296 1.136H11.112V10.868C11.112 11.408 10.992 11.66 10.68 11.804C10.368 11.96 9.852 11.984 9.108 11.984C9.072 11.756 8.94 11.36 8.82 11.096C9.396 11.12 9.912 11.108 10.08 11.108C10.236 11.108 10.296 11.06 10.296 10.88V1.136ZM2.784 0.991999L3.624 1.22C2.94 3.284 1.872 5.384 0.684 6.776C0.6 6.572 0.36 6.092 0.204 5.864C1.26 4.664 2.208 2.828 2.784 0.991999ZM1.824 3.932L2.628 3.116L2.652 3.14V11.96H1.824V3.932ZM12.696 6.212H23.316V7.028H12.696V6.212ZM18.036 8.36H22.524V9.152H18.036V8.36ZM17.64 6.572H18.552V11.12H17.64V6.572ZM15.288 8.528C16.02 10.496 17.604 10.868 19.956 10.88C20.412 10.88 22.92 10.88 23.544 10.868C23.412 11.072 23.268 11.468 23.22 11.732H19.92C17.112 11.732 15.48 11.228 14.544 8.804L15.288 8.528ZM14.772 7.412L15.672 7.544C15.288 9.536 14.424 11.024 13.104 11.984C12.972 11.816 12.624 11.492 12.42 11.348C13.692 10.52 14.46 9.176 14.772 7.412ZM14.832 3.728V4.712H21.084V3.728H14.832ZM14.832 2.108V3.08H21.084V2.108H14.832ZM13.956 1.424H21.996V5.396H13.956V1.424ZM29.58 0.98L30.468 1.172C30 3.092 29.244 4.94 28.32 6.164C28.164 6.008 27.804 5.72 27.6 5.588C28.488 4.472 29.184 2.744 29.58 0.98ZM29.376 6.068L30.252 6.248C29.88 7.82 29.232 9.344 28.5 10.352C28.32 10.208 27.936 9.968 27.72 9.86C28.464 8.936 29.04 7.508 29.376 6.068ZM29.472 3.236H34.872V4.076H29.124L29.472 3.236ZM31.332 3.584H32.232V10.868C32.232 11.384 32.124 11.648 31.788 11.792C31.464 11.948 30.948 11.972 30.204 11.972C30.144 11.72 30.012 11.324 29.88 11.06C30.444 11.084 30.96 11.072 31.128 11.072C31.284 11.072 31.332 11.024 31.332 10.868V3.584ZM33.096 6.248L33.9 5.984C34.596 7.244 35.196 8.9 35.4 10.016L34.548 10.304C34.356 9.2 33.756 7.508 33.096 6.248ZM34.608 3.236H34.728L34.884 3.212L35.508 3.344C35.34 4.232 35.136 5.264 34.98 5.912L34.2 5.768C34.332 5.168 34.488 4.16 34.608 3.368V3.236ZM27.168 0.968L28.02 1.232C27.228 3.272 25.992 5.3 24.696 6.644C24.6 6.44 24.348 5.96 24.18 5.756C25.368 4.592 26.496 2.792 27.168 0.968ZM25.92 4.064L26.76 3.212L26.784 3.224V11.948H25.92V4.064Z" />

        </g>
      </svg>
    </div>
  </div>
</template>
<script setup>
import { ref, onMounted } from 'vue';
import { gsap } from "gsap-trial";

import { MotionPathPlugin } from "gsap-trial/all";
import { DrawSVGPlugin } from "gsap-trial/DrawSVGPlugin";
import { MorphSVGPlugin } from "gsap-trial/MorphSVGPlugin";
gsap.registerPlugin( MotionPathPlugin, DrawSVGPlugin, MorphSVGPlugin);

let transform = ref(``)
const box = ref(null)
const rect = ref(null)
const circle = ref(null)
const pathLine = ref(null)
const cat = ref(null)
const dog = ref(null)
const jin = ref(null)
const tian = ref(null)

transform.value = `translate(0,0)`
setTimeout(()=>{
  transform.value = `translate(${100}, ${100})`
}, 3000)

onMounted(() => {
  console.log(`the component is now mounted.`)
  // new TweenMax(box.value,{
  //   y:100,
  //   duration:3,
  //   alpha:0.4,
  //   ease: "elastic.out(1, 0.3)", // 动画轨迹
  // })
  gsap.to(rect.value,{
    y:150, duration:4, alpha:0.4, ease: "elastic.out(1, 0.3)", // 动画轨迹
  })
  gsap.to(circle.value,{
    y:150, duration:4, ease: "bounce.out())", // 动画轨迹
    motionPath:{
      path: pathLine.value, // 运动的轨迹
      align: pathLine.value,
      autoRotate: 45, // 飞机运动旋转角度 （true为自动调整角度）
      alignOrigin: [1, 1] // 飞机的运动原点
    }
  })
  // 创建时间线
  let tl = gsap.timeline({
    repeat: -1, 
    repeatDelay: 0.2,
    yoyo: true, // 动画回放
    defaults: {
      duration: 2
    }
  })
   
  // svg 图形变化过程
  tl
  .to( pathLine.value, { morphSVG: cat.value }, "+=1")
  .to( pathLine.value, { morphSVG: dog.value }, "+=1")
  .timeScale(2);

  // svg 画图
  const t2 = gsap.timeline({ repeat: -1 });
  t2.fromTo( jin.value, { drawSVG: "0%" }, { duration: 1, drawSVG: "100%", stagger: 1 })
  t2.fromTo( tian.value, { drawSVG: "0%" }, { duration: 100, drawSVG: "100%", stagger: 1 })
})

</script>
<style>
  .svg-wrapper {
    height: 60px;
    position: relative;
    width: 320px;
    background: #000;
  }

  .rect {
    fill: transparent;
    stroke-dasharray: 200 540;
    stroke-dashoffset: -445;
    stroke-width: 8px;
  }
  @keyframes draw {
    0% {
      stroke-dasharray: 200 540;
      stroke-dashoffset: -445;
      stroke-width: 8px;
    }
    100% {
      stroke-dasharray: 760;
      stroke-dashoffset: 0;
      stroke-width: 2px;
    }
  }

  .svg-wrapper:hover .rect {
    animation: 0.5s draw linear forwards;
  }

.name {
  font-family: "阿里妈妈东方大楷 Regular";
}
@media (min-width: 1024px) {
  .about {
    min-height: 100vh;
    display: flex;
    align-items: center;
  }
}
</style>
